# Final Landmark Assignment Django Full Stack

## Robin Collins

## The Horseshoe Inn

## Project Purpose

### This is a real pub my friend Paul and his partner Toni purchased on 2nd June and moved in on 16th July 2020 amid a pandemic
This is a genuine requested website and will be used once submitted for assement and I am aware
that I will require to use a branch should any urgent updates be required.

With all the drama good and bad, Paul and Toni have experienced along the way, they have gained media attention
from Channel 5 who are now making a documentary of the pub. Paul and I had discussed this landmark assignment could 
potentially give my career some exposure at the same time freeing his time on people wanting to book rooms and view
constantly updated menu items. 

I therefore need to call on all my strengths and work hard on my weakness in delivering a high scoring assignment 
that I can and just as importantly provide to my my friends that can use to benifit and take a lot of valuable time out of their business.

If the documentary proves popular The Horseshoe Inn will require a fresh and inviting website that is not over
complicated and easy to navigate with a secure but easy booking system. Which provides a secure account to the customer
to update their booking. Obviously I have to also protect the client aswell as a late cancellation will cause finacial issues
so deposits of percentage of costs will have to be deducted from late cancellations for example. I also have to be aware
of stock control as there is only 5 rooms and self catering out building that requires to only be available once during
a day between for instance 2pm until 10:30pm the following day.

The Additional information such as a Menu page and what to do in the area may appeal to visitor to stay longer benefiting
the establishment.

As you are aware the hospitallity industry has suffered like many individuals and businessess in 2020 and needs a boost. 
With the issues of 2020 this will also require and have key Information of updates to current rules and regulating and a website with social media links where immediate update are not
possible on the website.

I'd like to think that this website is helping a commuinty and repair the tourism and hospitallity sector that has suffered
possibly irreparable damage in 2020 in the UK with thousands of closures and job losses.

Early cancellation will be refunded with bookings cancelled within 48 hours will lose a deposit and 24 hours full amount.


## UX design

A room booking system is the main requirement, with easy date select and checkout with the option to add extras
for instance breakfast. By having the option to register will allow the Inn to have a database of guests. therefore
with a checkbox on registration they can recieve quarterly/monthly news letters or be informed of last minute room
availability.

## Wireframes

Home & Menu

![Wireframe Home Menu](horseshoe_inn/mockup_images/horseshoe_1.png)

Rooms & Romms Scrolled down

![Wireframe Rooms](horseshoe_inn/mockup_images/horseshoe_2.png)

Room with room selected & Date Booking Select

![Wireframe Room with Select Room](horseshoe_inn/mockup_images/horseshoe_3.png)

Room enter details booking with payment & Booking Confirmation

![Wireframe Booking and Payment](horseshoe_inn/mockup_images/horseshoe_4.png)

Contact page & Respose to webform message page

![Wireframe Contact and Response](horseshoe_inn/mockup_images/horseshoe_5.png)

Terms & Conditions and a Covid-19 public information for rules and regulations

![Wireframe Terms and conditions](horseshoe_inn/mockup_images/horseshoe_6.png)

## User Stories

![userstories](horseshoe_inn/mockup_images/userstories.png)

## Usability and Visual Impact:

## Suitability for purpose

## Navigation

## Ease of use

## Information Architecture

## Defensive Design

THE TESTING TO CATCH ISSUES

## Layout and Visual Impact:

## Responsive Design

I have as required taken the mobile first approach as required and a common practise in all assignments throughout my course.
I have relied on the bootstrap technologies to achieve this.

## Image Presentation

## Colour scheme and typography

Using google fonts and my fonts dot com. I used a picture of the front of the inn to identify
what their pub font is and the closest match that was free was Libre Baskerville.
This will keep continuity with the establishmennt and to continue with the continuity I have
gone with their new green iterior colour scheme which is #B6D7A8 the font colour for the logo font
is B2B2AB I picked this colour as a colour match from photoshop from the picture with the font.
This colour is subject to change as the image give the impression its a soft gold but I have a grey
green look. This could be due to the current low resolution of the images. I will look again when I
take photographs later this month. What does concern me later is the possible adverse weather conditions 
to bring out the best lights but this has never been an issue before.

Orginally as to familiarise myself with this assignment I am using the code institude Boutique Ado education
videos to guide men through the process and I did think the black and white colours for Font ands banners went 
extremely well with the colours of the front of the pub and I didn't want to change them but glad I did as 
the softer tones feel more inviting and a lot more relaxed and in keeping with the lushious scenery and countryside
surrounding the Horseshoe Inn. It featured in my choices when discussing this project with my client in July and
it was in my mock up styles and what is evenmore impressive my client painted a lot of there interior with the same
colour so for continuity reasons it would be silly not to match this.

## Code Quality:

## Appropriate use of HTML

## Appropriate use of CSS

## Appropriate use of JavaScript

## Appropriate use of Python

## Appropriate use of the template language

## Appropriate use of Django

## Application Features:

## App logic

## Cross-app logic

## E-commerce

## Authentication and Security

## Software Development practices:

## Directory Structure and File Naming

## Version control
security not putting SECRET_KEYS in wrong place using config vars in Heroku

## Testing implementation

## Testing write-up

## Technologies Used

* Django - https://www.djangoproject.com/ The Python Web framework used for full stack assignemt.
* Github - https://github.com/ Where I stored my assignment.
* GitPod - https://www.gitpod.io/ This is the developer used for the assignment.
* Heroku - https://www.heroku.com/ The assingnment is hosted here as Python friendly.
* Bootstrap - https://getbootstrap.com/ to aid with responsive development.
* mdbootstrap - https://mdbootstrap.com/docs/jquery/navigation/footer/
* Google Fonts - https://fonts.google.com/ The Fonts used for The Pubs main title.
* What the font - https://www.myfonts.com/WhatTheFont/ I used this website to identify the Font Used on the fron of the pub.
* Json Formatter - https://jsonformatter.org/ For improving script layout.
* Code Pen - https://codepen.io/ I used this to practise snippets of code.
* Repl.it - https://repl.it/ I also used this for seeing if snippets of code would work.
* Django Key Generator - https://miniwebtool.com/ To renew SECRET_KEYS for greater security.
* Unsplash - https://unsplash.com/ I used this to provide stock images when testing.
* Photoshop - https://www.adobe.com/uk/products/photoshop.html  Used for The Horseshoe Inn Logo Design and the Favicon.
* Balsamiq - https://balsamiq.com/ Used for the wireframes seen earlier in the project.
* Stripe - https://stripe.com/en-gb Secure Payment System.
* AWS S3 Bucket - https://aws.amazon.com/s3/ for storage of data and images in database.
* Pillow - https://pypi.org/project/Pillow/2.2.1/ links images to the database.
* PIP - https://pip.pypa.io/en/stable/ - Package management system.
* Crispy Forms by Django - https://django-crispy-forms.readthedocs.io/en/latest/
* Allauth by Djang - https://django-allauth.readthedocs.io/en/latest/
* S3transfer https://pypi.org/project/s3transfer
* Gunicorn https://gunicorn.org/ allows deployment to Heroku from Django
* Boto3 https://boto3.amazonaws.com/v1/documentation/api/latest/index.html
* Gmail - https://mail.google.com/ popular versatile and flexible email provider
* Psycopg2 - https://pypi.org/project/psycopg2/ A postgresSQ database for Python
* AWS S3 Bucket - https://aws.amazon.com/s3/ Amazon file to store static file and images to a database
* Django Storages - https://django-storages.readthedocs.io/en/latest/
* DJ_Database -


## Comments and Diary

In the early stages of development I was having linking issues with the Readme file. Basically I wanted
the best assignment possible with the best readme therefore wanted to add images to the readme rather
than have them stored in a Wireframes folder. I had been shown how impressive some of these files are
and it left me inspired.

It is something I hadn't learned on the course so decided to research into this and successfully found
videos of this on YouTube. However I think the video was slightly dated and got a few errors with the
links not working correctly and I decided to edit within Github rather than GitPod. This was something
I hadn't done before so I did make 2 or 3 commit errors by not adding a coment in the box at the bottom
of the page and the preview option until my 4th attempt.

I contacted tutor support as concerned these errors would go against me hence I am documenting them
now to make the assor aware of my errors which I can say have now been resolved. Despite all of this I
found it a great learning curb as worked out alternate ways to update and alter using git commands and
editing from Github directly.

In week two of development my friend sent me images of The Horseshoe Inn since it had been refurbished
however these images I recieved were very small images suitable for smaller devices but not the large
screens. However, due to his workload he has been unable to get the images to me and further deadlines
get missed due to how busy he is that after a week I have decided to continue with image placers that
fill the gaps until he has time to fullfil my request. I am due to visit in late October 2020 but feel that
this assignment needs to be completed before then as good practise for the industy.

Furthermore, while working on this assignment I have also undertook the task of building another Django 
website for another customer my niece for her vegan cake shop Vixen's Vegan Delights. I did this as I 
knew the amount of pressure my friend is under buying a pub during a pandemic and making it work knowing 
potentially it could go very wrong. To assist him I have plenty of ideas to support him on the way to his
and my successes.

02/10/20

I have found out my deadlines and after a chat with my mentor he has advised me not to take on the huge
task of simoutaniously building 2 large websites as just one was pointed out to me by student services as
a behemoth. I have also been in contact with Paul again at The Horseshoe Inn and he agrees that the
work load for both of us is vast. This project will remain the priority and I will continue with 
Vixen's Vegan Delights after I am closer in completing this assignment.
Furthermore, I am due to travel back to Scotland for further meetings and include terms and conditions
and take proffessional pictures of the establishment. My cut off day for the assignment is 16th December
however, I hope to submit the assignemt around the 1st November to allow me to assist other customers 
and clients I have gathered.

03/11/20

With the delay in images I took a trip to Scotland to get these images while Scotlands hospitality industry
had been closed to public houses. However there was issues with gettting these images as Paul and Toni decided
to decorate the rooms for letting. Therefore what I went therefore I could not achieve. I wont lie I was disapointed
and possibly angry as this has proven expensive and time consuming and then being overwhelmed with guilt as could have
attended my auntie and God Mothers funeral. I have to live with these decisions furthermore, I do understand Paul 
and Toni's and where there was doubt two weeks prior to going away maybe it should have been pushed back to a 
different time.

Prior to all these the Website meeting we had went really well but they decided they want a darker green colour
for the website. I had already decided that the green colour already being used wouldnt work for smaller devices
and will therefore see where I can improve this but first I need to fix the functionality of the website first.

25/11/20

The shear size of this project has blown me away a little as my head decided it had forgooten how to do certain tasks
after a day trying to get my datepicker to function. I decided I best commit my work as my eyes really were starting
to hurt even with blue light filters. However, these commits failed due to a large microsoft file glitch was causing
this fail. Apparently it is known of but I thought it would be a good idea to mention as once my project was commited
it went from my initial 118 commits to 225.

04/12/20

I had more issues with my repository I'm not sure if it was due to a cache issue when I had to keep clearing it when
my site kept flagging errors and clearing the cache got it functioning again. This required me to log back into all
my sites. Commit were made but today despite a branched project dispaying all the correct information my original master
did not and implied I hadn't commited for 3 days which clearly wasnt the case. However, the only thing I could do was
in the terminal type: $ git checkout  then $ git pull
I made a quick adjustment to bag html and made the commit noting this issue at the same time and evething was successful.

07/12/20

I lost a day due to my workspace of 3 months becoming corrupted. I notified gitpod and I am still waiting for a Response
I believe it was to commiting work after my cache being cleared in the browser and logging me out of my programs.
I have now had to set a branch up and reinstall migrations. The only positive I have taken from this is I now know what
to do if this happens again.
Sadly I lost all my rooms and menu items in my database however, I have been advised only add one or two items for testing purposes
before adding to heroku database.

## Data store integration

## Deployment write-up Deployment write-up

I took the following steps to deploy my website to Heroku:

* Log it to Heroku and click new app.
* Name the app in lower case letters and dashes only and select the nearest location mine being Europe.
* If the name is available proceed.
* Click on the resorces tab and select search and type Postgres for the Heroku Database.
* Back in the Gitpod terminal install  dj_database_url with the pip3 install command.
* Then do the same with psycopg2-binary.
* Now Freeze the requirements.
* I made sure all my requirement.txt was updated.
* I then adjusted the setting for the Database in settings.py for testing.
* Now Back in the termainal I typed the following python3 manage.py showmigrations
* I then proceeded to type python3 manage.py migrate
* I then set up myself a superuser
* An if statement was added to the database then:
* pip3 install gunicorn
* Now I created a new Procfile making sure the name matched my main workspace folder name.
* I now logged into Heroku via the terminal with the following:
* heroku login -i 
* followed by  the the next command:
* heroku config:set DISABLE_COLLLECTSTATIC=1 --app (my app name here)
* I then went to AWS and accessed the console selectin IAM as choice.
* In AWS in the search bar I typed in S3 and clicked on S3 cloud service.
* Then clicked creat bucket namining the same as my Heroku app.
* I select the nearest region to me unchecking block public access and acknowledged that bucket will go public.
* I then turned on the static website hostingon clicking on my bucket. Added index.html and error.html where prompted.
* Clicked on the permissions tab and then pasted in code from the CORS (Cross origin Resorce Sharing).
* Select Bucket Policy then policy generator so as to create a security policy.
* Policy type is S3 Bucket Policy
* Allow all policies by adding * to the box, Action is get object.
* From the previous tab still open from when opening the policy generator.
* Now copy the bucket ARN (Amazon Resorce Name) then paste it at the bottom of the policy generator where prompted.
* Click add statement then generate the policy.
* Copy the Json Code in the document and paste in bucket policy editor.
* Before saving add a */ within the quotations after the project name.
* Click Save
* Now scroll down to access control list and click edit.
* Check the list box for Everyone (Public Access) then click the box stating you understand the effects of the changes
made on the objects and buckets.
* Save again
* I now click sevices link. 
* Select set group name and add name - again I made this simple and similar to previous names
* Now click next step twcice and create the group
* The click  policy then policies and select the Json tab.
* Then click import managed policy from the pre build amazon policies.
* Use the filter search and type S3 and import the AmazonS3Fullaccess Policy.
* Using the Bucket ARN from the previous created bucket policy page in S3.
* Copy and paste it in the Json code on the line with resorces as follows:
line 7, "resorces": [
line 8, "arn:information goes here",
line 9, "arn:information goes here/*"
line 10, ]
* Click review policy
* Give it a name and a discription I added -policy after the title.
* Click Create policy then groups select the one just made followed by permissions.
* Then attach policy
* search for policy just created and select it and click attach policy.
* Now create a user to put in the group, so click users on the far left side of the pannel.
* Then add user
* Add username (your project name)-staticfiles-user.
* Allow programmatic access
* Then select next
* Now click Appropriate policy then click the next:tag then next:review
* Then click create user
* Now download the  .CSV file
* IMPORTANT to downlaod and save as cannot do this again.
* Then close the window
* At this stage add the AWS instructions to the settings.py page
* After deploying to Heroku and Github with push command simutaneously.
* Click on the bucket in S3
* Within the object tab next to the word lits version click the refresh button and the static file will appear.
* Add the cache control statement that can be seen in settings.py
* Now goto S3 and on the bucket overview click create folder and call it media and click create folder.
* Now click on that folder 
* Inside click upload and add files.


## Stretch Goals

* Ideally I would like better function to the booking calendar/date picker where if it is booked already it would be highlighted
red and show green if availble. 

* Another feature that would be nice on the individual rooms have a carosel/slide show that shows different images of the rooms.

* A cookie consent form is something that is required.

* Another Idea would be to have the login fuction only feature on the Menu or/and the just the rooms page.

* Another feature would be to have a different home page of portrait orientation for the mobile version of the website.
as the page reduced in size a different image would be more suitable.

* Due to an issue in my code confusing myself I have had to remove the function of + and - from the shop basket and keep the remove
option and keep a simple back button to adjust booking. I did originally have this function working but made changes
without giving myself enough notes to see what I had done. However, justifingly this works as a majority of hospitality websites
do just have a back adjust booking button.



## Media

Photographs of the Horseshoe inn are credited to myself Robin Collins. Paul Foot the owner is also responible for Additional
pub images. He also has the rights to the older images supplied by the previous owners therefore I thank them and the customers
of Bridgend, Kilmichael Glassary. However these images have only been used for testing purposes and I had no intention of using
them as I mentioned eariler I did travel to take the photographs but denied.

I also have used Unsplash stock library due to not being supplied content as requested these go to:
Sebastian Coman Photography for the images with the Mozzarela and Tomatoes and the Scallop with Black Pudding.
Krisztina Papp for the Ice Cream Photograph.
Claudia Crespo - Chocolate mouse with cherry image.
Max Nayman for what I have called - Apple and Hazelnut pie. 
Louis Hansel - the prawn curry.
Edward Franklin - Burger and fries.
Tim Toomey - Steak and Chips.
Vivian Rishe - Tray of Oysters.
Wang Xi - Lobster Platter.
Annastasiia Rusaeva - Waffels with fuit compot.

I did consider using stock images to make up for the fact I couldn't get any from the amount of time effort and money I put
into this. However, I didn't as finding free exteria pub shots is extremely difficult on free stock site producing zero results
at the time of posting this.

## Used to help 

I used the following places for sources of information and snippets of code to help me obtain my goals:

* https://www.codesdope.com/ for CSS tips

* https://validator.w3.org/ for checking my HTML

* 


## Credits and Achnoledgements

I would like to express my eternal gratitute to Brian Macharia for being a great mentor and advisor for this and
my previous assignments. I hope our paths cross again it has been a true honour to be your padiwan.

Thank you to Johann Alberts bravoalpha79 and Tim Nelson at the code institute for allowing me to have a greater understanding of Models
and Views with this milestone assignemt.

Also thank you to all the Tutors at the Code Institute for your assistance over the past year.

Futher thank goes to ckz8780 for his amazin Django lessons with the code institute which was essential refernce material.
